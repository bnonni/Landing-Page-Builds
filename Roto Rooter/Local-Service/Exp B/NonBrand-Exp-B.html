<style type="text/css">
  #local-services.exp-b, #local-services.exp-b.mobile {
      background-color: #3e5cad;
  }

#local-services.exp-b.mobile { display: none; }

  #local-services.exp-b #local-services-location, #local-services.exp-b.mobile #local-services-location, 
#local-services.exp-b .local-services_service_type, #local-services.exp-b.mobile .local-services_service_type, 
#local-services.exp-b .local-services_service_cta, #local-services.exp-b.mobile .local-services_service_cta, 
#local-services.exp-b .local-services_service_copy, #local-services.exp-b.mobile .local-services_service_copy
{
      color: #ffffff;
  }

  #local-services.exp-b .local-services_service_cta>svg, #local-services.exp-b.mobile .local-services_service_cta>svg {
      fill: #ffffff;
  }

  #local-services-list {
      justify-content: space-evenly;
      flex-wrap: wrap;
  }

  #local-services {
      padding: 0;
      width: 100%;
  }

  #local-services-row {
      font-family: din-condensed-web, 'DIN Condensed Web', din-condensed, Gnuolane, Impact, sans-serif;
      margin: 0 auto;
  }

  #local-services-location {
      font-size: 32px;
      line-height: normal;
      padding: 10px 0 15px 0;
      text-align: center;
  }

  #local-services-list {
      display: flex;
  }

  .local-services_service {
      padding-bottom: 20px;
      text-align: center;
  }

  .local-services_service_type {
      font-size: 24px;
      padding: 12px 0 0 0;
      text-transform: uppercase;
  }

  .local-services_service_cta {
      font-size: 16px;
      font-family: acumin-pro, 'Helvetica Neue', Helvetica, Arial, sans-serif;
      line-height: 24px;
      margin-left: 22px;
      padding-top: 5px;
      text-transform: uppercase;
      vertical-align: middle;
  }

  .local-services_service_cta:hover {
      cursor: pointer;
  }

  .local-services_service_cta>svg {
      left: 4px;
      position: relative;
      top: -2px;
      left: -2px;
      vertical-align: middle;
  }

.local-services-icon { width: 70px; }

  .local-services_service_copy {
      font-family: acumin-pro, 'Helvetica Neue', Helvetica, Arial, sans-serif;
      /*font-size: 14px;*/
      font-size: 16px;
      display: none;
      padding: 20px 5px;
  }

  @media (min-width: 1024px) {
      #local-services-row {
          width: 64.5rem;
      }

      #local-services-list {
          flex-direction: row;
          margin: 0 auto;
          width: 64.5rem;
      }

      .local-services_service {
          flex: 0 1 24%;
      }
  }

  @media (max-width: 1023px) {
      #local-services-row {
          padding: 0 24px 0 24px;
      }
  }

  @media (max-width: 767px) {
  body#ppc-page .content>aside { padding-bottom: 0; }

  #local-services.exp-b { display: none; }
  #local-services.exp-b.mobile { 
    display: block;
    margin: 0 -5%;
    width: 110%;
  }
  
  #local-services.exp-b.mobile #local-services-location { font-size: 28px; }
  
  #local-services.exp-b.mobile .local-services_service_type { font-size: 22px; }

      .local-services_service {
          max-width:100%;
    flex: 0 1 49%;
      }
  }

</style>
<script>
try {
  function triggerEScheduleClicks() {
      try {
          adobe.target.trackEvent( {mbox: "ScheduleServiceModuleAppears"});
      } catch(e) {}
  }
  var pnccnt=0;
  function tallyPhnNumClicks() {
      try {
          pnccnt+=1,
          adobe.target.trackEvent( {mbox:"PhoneNumberClick", params: {PhoneNumberClick: pnccnt}});
      } catch(e) {}
  }
  function couponClicked(evt) {
      var tParent = $(document).find(evt.target).parent().parent();
      var couponAmt = tParent.attr('data-amount');
      try {
          adobe.target.trackEvent({mbox: "couponOpened", params: {couponOpened: couponAmt}});
      } catch(e) {}
  }
  function removeListeners() {
      try {
          var c=$(document).find(".btn-red");
          $.each(c, function(c, n) {
              "eschedule-embedded-form"==$(n).attr("data-gacategory")&&$(n).click(function(c) {});
          });
          $(document).find(".btn-group-schedule-service-online,body#ppc-page section#hero #mPanel.schedule-service-panel > .panel-body-wrap a.schedule-service,.phone-formatted,.market-phones,.desktop-header-phone,.call-phone-number,#nav-phone-number,.local-page-phone,#mob-call-now,#local-page-contactus-sticky,#PPCcoupons a.coupon").off('click',function(){});
      } catch(e) {}
  }
  function attachListeners() {
      try {
          $(document).find(".btn-group-schedule-service-online").click(function(c) {
              triggerEScheduleClicks()
          });
          var c=$(document).find(".btn-red");
          $.each(c, function(c, n) {
              "eschedule-embedded-form"==$(n).attr("data-gacategory")&&$(n).click(function(c) {
                  triggerEScheduleClicks()
              });
          });
          $(document).find("body#ppc-page section#hero #mPanel.schedule-service-panel > .panel-body-wrap a.schedule-service,.phone-formatted,.market-phones,.desktop-header-phone,.call-phone-number,#nav-phone-number,.local-page-phone,#mob-call-now,#local-page-contactus-sticky").click(function(c) {
              tallyPhnNumClicks();
          });
          $(document).find('#PPCcoupons a.coupon').on('click',function(evt){couponClicked(evt);});
      } catch(e) {}
  }
} catch(c) {}
</script>
<script>
(function() {
  'use strict';
  var rrTest = {
      connectionSpeed: '${profile.geolocation.connectionSpeed}',
      cityStateVal:'',
      cityVal:'',
      stateVal:'',
      fullStateName:'',
      locationNotFound:false,
      debug:false,
      account : 'Roto-Rooter',
      test : '360i_SEM AB 5 Way_Local Service Test_082118',
      creative : "ExpB",
      hero: '#hero',
      servicesSection: '',
      servicesMobileSection: '',
  abbrState: {"alabama":"AL","alaska":"AK","arizona":"AZ","arkansas":"AR","california":"CA","colorado":"CO","connecticut":"CT","delaware":"DE","florida":"FL","georgia":"GA","hawaii":"HI","idaho":"ID","illinois":"IL","indiana":"IN","iowa":"IA","kansas":"KS","kentucky":"KY","louisiana":"LA","maine":"ME","maryland":"MD","massachusetts":"MA","michigan":"MI","minnesota":"MN","mississippi":"MS","missouri":"MO","montana":"MT","nebraska":"NE","nevada":"NV","new hampshire":"NH","new jersey":"NJ","new mexico":"NM","new york":"NY","north carolina":"NC","north dakota":"ND","ohio":"OH","oklahoma":"OK","oregon":"OR","pennsylvania":"PA","rhode island":"RI","south carolina":"SC","south dakota":"SD","tennessee":"TN","texas":"TX","utah":"UT","vermont":"VT","virginia":"VA","washington":"WA","west virginia":"WV","wisconsin":"WI","wyoming":"WY","district of columbia":"DC"},
  us_state_name: {"AL":"Alabama","AK":"Alaska" ,"AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","FL":"Florida","GA":"Georgia","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PA":"Pennsylvania","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming","DC":"District of Columbia"},
      init : function() {
          rrTest.log("Test Running...");
          rrTest.log(rrTest.test + " - " + rrTest.creative);

          rrTest.elementLoaded(rrTest.hero, function() {
              rrTest.log("Test 1 Ready!");
              removeListeners();
              rrTest.getGeo();
              rrTest.servicesSection = '<section id="local-services" class="exp-b"><div id="local-services-row"><div id="local-services-location">'+rrTest.cityVal.toUpperCase()+',&nbsp;'+rrTest.fullStateName.toUpperCase()+' ROTO-ROOTER SERVICES</div><div id="local-services-list"><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/emergency-service-color.png" /><div class="local-services_service_type">Emergency Service</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/plumbing-and-drains-color.png" /><div class="local-services_service_type">Plumbing &amp; Drains</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/water-cleanup-color.png"><div class="local-services_service_type">Water Cleanup</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/water-heaters-color.png" /><div class="local-services_service_type">Water Heaters</div></div></div></div></div></div></section>';
              rrTest.servicesMobileSection = '<section id="local-services" class="exp-b mobile"><div id="local-services-row"><div id="local-services-location">'+rrTest.cityVal.toUpperCase()+',&nbsp;'+rrTest.fullStateName.toUpperCase()+' ROTO-ROOTER SERVICES</div><div id="local-services-list"><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/emergency-service-color.png" /><div class="local-services_service_type">Emergency Service</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/plumbing-and-drains-color.png" /><div class="local-services_service_type">Plumbing &amp; Drains</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/water-cleanup-color.png"><div class="local-services_service_type">Water Cleanup</div></div></div><div class="local-services_service"><div><img class="local-services-icon" src="https://rotorooter.com/images/ppc/icons/water-heaters-color.png" /><div class="local-services_service_type">Water Heaters</div></div></div></div></div></div></section>';
              rrTest.chall();
              attachListeners();
          });
      },
      chall : function() {
          $(document).find('#hero').after(rrTest.servicesSection);
    $(document).find('#PPCcoupons').after(rrTest.servicesMobileSection);
      },
      getGeo : function() {
          var connectionSpeed = '${profile.geolocation.connectionSpeed}';
          rrTest.stateVal = rrTest.abbrState['${profile.geolocation.state}'];
          rrTest.fullStateName = '${profile.geolocation.state}';
          rrTest.cityStateVal = '${profile.geolocation.city},&nbsp;'+rrTest.stateVal;
          var cityStr = '${profile.geolocation.city}'
          rrTest.cityVal = (cityStr !== '') ? cityStr.substring(0,1).toUpperCase() + cityStr.substring(1) : "";
          if(connectionSpeed === 'broadband') {
              adobe.target.trackEvent({mbox:"LocationIdentified", params: {LocationIdentified: 'YES'}});
          } else {
              if(rotoRooterApp) {
                  if(rotoRooterApp.session) {
                      rrTest.cityVal = rotoRooterApp.session.marketCity.substring(0,1).toUpperCase() + rotoRooterApp.session.marketCity.substring(1);
                      rrTest.cityStateVal = rrTest.cityVal+",&nbsp;"+rotoRooterApp.session.marketState;
                      rrTest.fullStateName = rrTest.us_state_name[rotoRooterApp.session.marketState];
                  }
              } else {
                  rrTest.locationNotFound = true;
                  rrTest.cityVal = '';
                  rrTest.cityStateVal = '';
              }
              adobe.target.trackEvent({mbox:"LocationIdentified", params: {LocationIdentified: 'NO'}});
          }
      },
      elementLoaded : function (ele, callback) {
          rrTest.log('elementLoaded::  ' + ele + " - Checking...");
          window.clearTimeout(rrTest.eleTimer);
          if (document.querySelectorAll(ele).length > 0) {
              if (typeof callback === 'function') {
                  rrTest.log('elementLoaded::  ' + ele + " - Found!");
                  callback();
              }
          } else {
              rrTest.eleTimer = window.setTimeout(function(){rrTest.elementLoaded(ele, callback);}, 100);
          }
      },
      dependsLoaded : function (callback) {
          rrTest.log(rrTest.test + " - " + rrTest.creative + " - dependsLoaded - Start...");

          window.clearTimeout(rrTest.timer);
          //Check for jQuery and _a object
          if ((window.$ && $.isReady) || (window.jQuery && jQuery.isReady)) {
              if (typeof callback === "function") {
                  rrTest.log(rrTest.test + " - " + rrTest.creative + " - dependsLoaded - Ready!");
                  callback();
              }
          } else {
              rrTest.timer = window.setTimeout(function() { rrTest.dependsLoaded(callback); }, 100);
          }
      },
      log : function(obj){
          if(rrTest.debug === true){
              console.log(obj);
          }
      }
  }

  var helpers = {
      getQueryParam: function(variable) {
          var query = window.location.search.substring(1);
          var vars = query.split('&');
          for (var i = 0; i < vars.length; i++) {
              var pair = vars[i].split('=');
              if (decodeURIComponent(pair[0]) == variable) {
                  return decodeURIComponent(pair[1]);
              }
          }
      }
  }

  rrTest.dependsLoaded(function(){
      rrTest.init();
  });
})();
</script>