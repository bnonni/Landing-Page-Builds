<style>
div.wrapper{
    overflow: hidden;
}
.content, .content>.aside, .content>aside, .content>section, .wrapper>section, footer>div, header{
	padding: 0;
}
section#main-content div.ppc-content{
	margin-bottom: 0;
	text-align: center;
}
section#main-content div.ppc-content h2{
	background-color: #363E7C;
    color: #fff;
    text-align: center;
    padding: 5px 20%;
	font-family: din-condensed-web,DIN Condensed Web,din-condensed,Gnuolane,Impact,sans-serif;
	font-size: 2.1rem;
	font-weight: normal;
	line-height: 1.9rem;
    margin-bottom: 0;
    width: 100%;
}
section#main-content div.ppc-content h3 {
    text-align: center;
    color: #444C85;
	font-family: din-condensed-web,DIN Condensed Web,din-condensed,Gnuolane,Impact,sans-serif;
    font-size: 20px;
    padding: 10px 0;
    /*width: 94%;*/
    display: block;
	margin: 2% 0 4% 0;
}
section#main-content div.ppc-content div.nohassle, section#main-content div.ppc-content div.twenty47 {
	width: 45%;
	display: inline-block;
	vertical-align: top;
}
section#main-content div.ppc-content img{
    display: inline-block;
    margin: auto;
}
section#main-content div.ppc-content img#noHassle, section#main-content div.ppc-content img#twenty47{
	width: 30%;
    max-width: 125px;
	margin: 0 auto 5% auto;
	vertical-align: middle;
}
section#main-content div.ppc-content div#twenty47Text, section#main-content div.ppc-content div#noHassleText{
	width: 60%;
	margin: 0 0 0 5%;
	padding: 0 2%;
	text-align: left;
	line-height: 1.25rem;
	display: inline-block;
	vertical-align: top;
}
section#main-content div.ppc-content p{
    margin-top: 24px;
    padding: 13px;
    font-weight: 600;
    width: 100%;
    position: relative;
    font-size: 12px;
    float: left;
    color: #363E7C;
	text-align: center;
    background-image: url(https://rotorooter.com/images/rr-z2-reviews-bkg-mobile.png);
    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Arial,sans-serif;
}
section#reviews{
	width: 100%;
	height: auto;
	margin: 15px 0 0 0;
	text-align: left;
	display: block;
}
body#ppc-page .content>section#reviews .review {    
	float: left;
	width: 50%;
    padding-right: .75rem;
}
body#ppc-page .content>section#reviews .review:nth-of-type(odd), body#ppc-page a.coupon:nth-of-type(odd) {
	clear: left;
}
.scheduleServiceClass{
	background-color: #506bb7;
    border: 2px solid #fff;
    border-radius: .25rem;
    bottom: 5.25rem;
    color: #fff;
    display: block;
    font-size: 1.125rem;
    height: 3rem;
    line-height: 2rem;
    text-align: center;
    width: 16rem;
    margin: 0 0 6px 0;
}
div.coupon-div{
 	background-color: #FFFFFF;
    margin: 0 auto;
    display: inline-block;
    width: 100%;
    font-family: sucrose_slantbold;
    padding: 5px;
}	
div.coupon-div img{
    width: 34px;
}
a.a-coupon{
    color: #D4323B;
    text-decoration: underline;
    padding: 0;
	margin-left: 2%;
	vertical-align: middle;
}
a.a-coupon .tk-material-icons {
	top: 6px;
}
#rrVan {
	display: none;
}
#rrRedVan{
  display: inline-block;
}

@media screen and (max-width: 993px) {
	section#main-content div.ppc-content {
		text-align: center;
	}
	section#main-content div.ppc-content h2, section#main-content div.ppc-content h3{
		padding: 5px 1rem;
		text-align: center;
	}
	section#main-content div.ppc-content div.nohassle, section#main-content div.ppc-content div.twenty47 {
		text-align: center;
	}
	section#main-content div.ppc-content img#noHassle, section#main-content div.ppc-content img#twenty47{
		width: 40%;
		vertical-align: top;
	}
	section#main-content div.ppc-content div#twenty47Text, section#main-content div.ppc-content div#noHassleText{
		width: auto;
		margin: 0;
		text-align: center;
		display: block;
	}
	section#reviews{
		margin: 15px auto;
		text-align: center;
	}
	body#ppc-page .content>section#reviews .review {  
		float: none;
		width: auto;
		padding: 0 2%;
	}
	body#ppc-page .content>section#reviews .rating, body#ppc-page .content>section#reviews .review-comment, body#ppc-page .content>section#reviews p.author-locale { 
		text-align: left; 
	}
	.scheduleServiceClass {
		margin: 0 auto 6px auto;
	}
	div.coupon-div {
		background-color: #D4323B;
		padding: 5px;
	}	
	a.a-coupon{
		color: #fff;
		text-decoration: none;
		font-size: 16px;
		padding: 0;
	}
	a.a-coupon .tk-material-icons {
		top: 4px;
	}
	#rrVan {
		display: inline-block;
	}
	#rrRedVan{
	  display: none;
	}
}

@media(min-width: 347px){
	section#main-content div.ppc-content h2 {
		background-color: #363E7C;
		color: #ffff;
		text-align: center;
		padding: 5px 0;
		font-size: 25px;
		margin-bottom: 0;
		width: 100%;
	}
}

@media(min-width: 400px){
	section#main-content div.ppc-content h2 {
		font-size: 28px;
	}
} 
  
@media (min-width: 992px){
	body#ppc-page .content>section {
    	float: left;
    	width: 44.625rem;
	}
  section#main-content div.ppc-content h2 {
      padding: 7px 0;
      font-size: 38px;
      /*width: 107%;*/
	}
  section#main-content div.ppc-content h3 {
    text-align: center;
	color: #444C85;
    font-size: 23px;
    /*width: 106%;*/
    display: block;
    padding: 0;
  }
  section#main-content div.ppc-content p {
      margin-top: 24px;
      padding: 13px;
      font-weight: 600;
      width: 107%;
      position: relative;
      font-size: 82%;
      float: left;
      color: #363E7C;
      background-image: url(https://rotorooter.com/images/rr-z2-reviews-bkg-mobile.png);
      font-family: HelveticaNeue,Helvetica Neue,Helvetica,Arial,sans-serif;
      text-align: center;
	}
  div.wrapper div.content{
    height: 47rem;
    padding-left: 1rem;
  } 
}
@media(min-width:1024px){
   body#ppc-page .wrapper {
    padding-bottom: 15.5rem;
}
  body#ppc-page .content, body#ppc-page .content#version-2 {
    padding-top: 1rem;
  }
  .content, .wrapper>section, footer>div, header {
      margin: 0 auto;
      width: 64.5rem;
      height: 42rem;
  }
  section#main-content div.ppc-content h3 {
	text-align: center;
    color: #444C85;
    font-size: 21px;
    /*width: 110%;*/
    display: block;
    padding: 0;
  }
.content>section li, .content>section p {
    font-size: .875rem;
    line-height: 1.25rem;
    margin-bottom: 1rem;
    margin-left: 0;
}
  body#ppc-page .content>section#main-content {
      padding-right: 3.375rem;
  }
  section#main-content div.ppc-content h2 {
      background-color: #363E7C;
      color: #ffffff;
      text-align: center;
      padding: 5px 5px 6px 5px;
      font-size: 36px;
      margin: 13px 0 0 0;
      width: 100%;
  }
  section#main-content div.ppc-content p {
    width: 100%;
	}
  div.wrapper div.content{
    height: 50rem;
  }
}
</style>
<style>
/* WH Styles */
@media(min-width: 768px) {
	body#ppc-page .panel-default .panel-body.panel-body-desktop {
		height: 9rem;
		padding: 1.05rem 0 0;
	}

	body#ppc-page .panel-default .panel-body.panel-body-desktop .call-now-text {
		font-size: 2.25rem;
	}

	body#ppc-page .panel-default .panel-body.panel-body-desktop .phone-formatted {
		font-size: 3.5rem;
		height: 3.5rem;
	}

	body#ppc-page .panel-default .schedule-service {
		bottom: 1.25rem;
		font-size: 1.5rem;
		height: 3rem;
		line-height: 2rem;
		width: 22rem;
	}
}
/* End WH Styles */
</style>
<script>
var rrCity,rrState,mobileCarrier="${profile.geolocation.mobileCarrier}";
var params={};location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(s,k,v){params[k]=v});
try {
    function triggerEScheduleClicks() {
		try {
			adobe.target.trackEvent( {
				mbox: "ScheduleServiceModuleAppears"
			});
		} catch(e) {}
		}
		
    var pnccnt=0;
    function tallyPhnNumClicks() {
		try {
			pnccnt+=1,
			adobe.target.trackEvent( {
				mbox:"PhoneNumberClick", 
				params: {
					PhoneNumberClick: pnccnt
				}
			});
		} catch(e) {}
    }
	function removeListeners() {
		try {
			$(document).find(".btn-group-schedule-service-online").click(function(c) {});
			var c=$(document).find(".btn-red");
			$.each(c, function(c, n) {
				"eschedule-embedded-form"==$(n).attr("data-gacategory")&&$(n).click(function(c) {});
			});
			$(document).find("body#ppc-page section#hero #mPanel.schedule-service-panel > .panel-body-wrap a.schedule-service").click(function(c) {});
			$(document).find("button.schedule-service").click(function(c) {});
			$(document).find(".phone-formatted").click(function(c) {});
			$(document).find(".market-phones").click(function(c) {});
			$(document).find(".desktop-header-phone").click(function(c) {});
			$(document).find(".call-phone-number").click(function(c) {});
			$(document).find("#nav-phone-number").click(function(c) {});
			$(document).find(".local-page-phone").click(function(c) {});
			$(document).find("#mob-call-now").click(function(c) {});
			$(document).find("#local-page-contactus-sticky").click(function(c) {});
		} catch(e) {}
	}
    function attachListeners() {
		try {
			$(document).find(".btn-group-schedule-service-online").click(function(c) {
				triggerEScheduleClicks()
			});
			var c=$(document).find(".btn-red");
			$.each(c, function(c, n) {
				"eschedule-embedded-form"==$(n).attr("data-gacategory")&&$(n).click(function(c) {
					triggerEScheduleClicks()
				});
			});
			$(document).find("body#ppc-page section#hero #mPanel.schedule-service-panel > .panel-body-wrap a.schedule-service").click(function(c) {
				triggerEScheduleClicks();
			});
			$(document).find("button.schedule-service").click(function(c) {
				triggerEScheduleClicks();
			});
			$(document).find(".phone-formatted").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find(".market-phones").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find(".desktop-header-phone").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find(".call-phone-number").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find("#nav-phone-number").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find(".local-page-phone").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find("#mob-call-now").click(function(c) {
				tallyPhnNumClicks();
			});
			$(document).find("#local-page-contactus-sticky").click(function(c) {
				tallyPhnNumClicks();
			});
		} catch(e) {}
    }
} catch(c) {}

(function() {
	'use strict';
	var rrTest = {
		connectionSpeed: '${profile.geolocation.connectionSpeed}', 
		cityStateVal:'', 
		cityVal:'',
        stateVal:'',
		locationNotFound:false,
		debug:true,
		account : 'Roto-Rooter',
		portfolio : 'rotorooter.com',
		test : 'SEM AB Z2 Redesign Test 05182018',
		cookieName : 'RotoRooter',
		creative : "Experience B",
		widget: "div.ppc-content h2", 	
		widgetHeader: "div.plumbing-80-years",
		phnNumber: rotoRooterApp.session.franchisePhoneNumber,
		
		init: function() {		
			rrTest.debug = Boolean(helpers.getQueryParam('debug'));

			rrTest.log("Test Running...");
			rrTest.log(rrTest.account + " - " + rrTest.portfolio);
			rrTest.log(rrTest.test + " - " + rrTest.creative);
			
			//Check to see if the element that we're modifying for the test is present on the page
			rrTest.elementLoaded(rrTest.widget, function() {	
				rrTest.log("Test 1 Ready!");
				rrTest.chall();
			});
		},
		chall : function() {
			removeListeners();
			rrTest.getGeo();
			
			/* WH */
			rrTest.elementLoaded(rrTest.widgetHeader, function() {	
				rrTest.log("Widget Ready!");
				rrTest.widgetTest();
			});
			/* End WH */
			
			rrTest.updateContent();
			attachListeners();
		},
		widgetTest : function() {
			/* Update Header Text to include City */
			if(rrTest.cityVal !== '') {
				var txt = $(document).find('div.plumbing-80-years span').eq(0).text();
				txt = txt + " IN "+rrTest.cityVal.toUpperCase();
				$(document).find('div.plumbing-80-years span').text(txt);
			}
			/* Replace Blue Bar Contents with Coupon */
			var dataAmt = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-amount');
			var dataSrv = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-service');
			var dataLabel = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-galabel');
			var coupon = '<div id="header-coupon"><div id="coupon-icon"><em class="tk-material-icons"></em></div><div id="coupon-text"><a href="#" class="coupon-link" data-toggle="modal" data-target="#couponModal" data-amount="'+dataAmt+'" data-service="'+dataSrv+'" data-gacategory="local-page" data-gaaction="click" data-galabel="'+dataLabel +'">Get '+dataAmt+'</a></div></div>';
			$(document).find('div#blue-bar').html(coupon);
		},
		updateContent: function() {
			//Headers
			$(document).find('div.content #main-content div.ppc-content h2').replaceWith('<h2>Our Full-Service Local Plumbers Provide Free Estimates on Any Job</h2>');
			/*Added New All Caps Text (Subheader)*/
			$(document).find('div.content #main-content div.ppc-content h3').replaceWith('<h3>FIX IT RIGHT THE FIRST TIME WITH AN EXPERT ROTO-ROOTER PLUMBER</h3>');
			
			/*Added Img of No Hassle & 24-7note*/
			var nohassle = '<div class="nohassle"><img id="noHassle" src="https://www.rotorooter.com/dotAsset/1bf4cb99-1015-49fc-8a9b-84cba1f71e7a.png"><div id="noHassleText">Honest estimates and a no-hassle guarantee so you can get it fixed quickly</div></div>';			
			var twenty47 = '<div class="twenty47"><img id="twenty47" src="https://rotorooter.com/images/icon-24-7.png"><div id="twenty47Text">We\'re there for you 24/7, holidays and weekends, at no extra charge </div></div>';
			var nohassle_twenty47 = nohassle + twenty47;
			$(document).find('div.content #main-content div.ppc-content p:nth-child(4)').replaceWith(nohassle_twenty47);
			//$(document).find('section#main-content div.ppc-content p').remove();
			
			//Added ID to First Review to Eliminate Top Border
			$(document).find('body#ppc-page .content>section#reviews .rating').attr("id", "hideBar");
			$(document).find('div.ppc-content hr').remove();
			
			//Schedule Service Button
			$(document).find('section#reviews').append('<button class="scheduleServiceClass" id="scheduleServiceId" data-toggle="modal" data-target="#scheduleServiceModal" data-gacategory="eschedule-embedded-form" data-gaaction="click" data-galabel="eschedule-open-modal"> <span class="tk-sans" style="font-family: \'acumin-pro\',\'Helvetica Neue\',\'Helvetica\',\'Arial\',sans-serif;visibility: visible"><i class="material-icons" style="bottom: auto;display: inline-block;font-size: 1.5rem;height: 1.5rem;line-height: 1.5rem;position: relative;top: .375rem;width: 1.75rem;"></i>Schedule Service Online</span></button>');

			//GET $$ Off button -- dynamic serving of discount based on DMA
			var dataAmt = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-amount');
			var dataSrv = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-service');
			var dataLabel = $(document).find('aside#PPCcoupons').find('a.coupon').attr('data-galabel');

			var coupon = '<div class="coupon-div"> <a class="a-coupon" href="#" data-toggle="modal" data-target="#couponModal" data-amount="'+dataAmt+'" data-service="'+dataSrv+'" data-gacategory="local-page" data-gaaction="click" data-galabel="'+dataLabel +'">GET '+dataAmt+' OFF YOUR NEXT SERVICE<i class="tk-material-icons"></i></a></div>';

			$(document).find('section#reviews').append(coupon);
			$(document).find('div.content div.coupon-div a.a-coupon').before('<img id="rrVan" src="https://rotorooter.com/images/rr-van.png" > <img id="rrRedVan" src="https://rotorooter.com/images/rr-van-red-border.png" >')
        },
		getGeo: function() {
			var connectionSpeed = '${profile.geolocation.connectionSpeed}';
			rrTest.stateVal = rrTest.abbrState('${profile.geolocation.state}');
			rrTest.cityStateVal = '${profile.geolocation.city}, '+rrTest.stateVal;
			rrTest.cityVal = '${profile.geolocation.city}';
			
			//If on broadband (ie WiFi) then populate the city and state
			if(connectionSpeed === 'broadband') {
				adobe.target.trackEvent( {
					mbox:"LocationIdentified", params: {
						LocationIdentified: 'YES'
					}
				});
			} else {
				//If on mobile (ie 4G etc) then use RotoRooter's Session values; If not available then do not populate city/state
				if(rotoRooterApp) {
					if(rotoRooterApp.session) {
						rrTest.cityVal = rotoRooterApp.session.marketCity;
						rrTest.cityStateVal = rrTest.cityVal+", "+rotoRooterApp.session.marketState;
					}
				} else {
					rrTest.locationNotFound = true;
					rrTest.cityVal = '';
					rrTest.cityStateVal = '';
				}
				adobe.target.trackEvent( {
					mbox:"LocationIdentified", params: {
						LocationIdentified: 'NO'
					}
				});
			}
		},
		abbrState: function(state) {
			var st;
			switch(state.toLowerCase()) {
				case "alabama":
					st="AL";
					break;
				case "alaska":
					st="AK";
					break;
				case "arizona":
					st="AZ";
					break;
				case "arkansas":
					st="AR";
					break;
				case "california":
					st="CA";
					break;
				case "colorado":
					st="CO";
					break;
				case "connecticut":
					st="CT";
					break;
				case "delaware":
					st="DE";
					break;
				case "florida":
					st="FL";
					break;
				case "georgia":
					st="GA";
					break;
				case "hawaii":
					st="HI";
					break;
				case "idaho":
					st="ID";
					break;
				case "illinois":
					st="IL";
					break;
				case "indiana":
					st="IN";
					break;
				case "iowa":
					st="IA";
					break;
				case "kansas":
					st="KS";
					break;
				case "kentucky":
					st="KY";
					break;
				case "louisiana":
					st="LA";
					break;
				case "maine":
					st="ME";
					break;
				case "maryland":
					st="MD";
					break;
				case "massachusetts":
					st="MA";
					break;
				case "michigan":
					st="MI";
					break;
				case "minnesota":
					st="MN";
					break;
				case "mississippi":
					st="MS";
					break;
				case "missouri":
					st="MO";
					break;
				case "montana":
					st="MT";
					break;
				case "nebraska":
					st="NE";
					break;
				case "nevada":
					st="NV";
					break;
				case "new hampshire":
					st="NH";
					break;
				case "new jersey":
					st="NJ";
					break;
				case "new mexico":
					st="NM";
					break;
				case "new york":
					st="NY";
					break;
				case "north carolina":
					st="NC";
					break;
				case "north dakota":
					st="ND";
					break;
				case "ohio":
					st="OH";
					break;
				case "oklahoma":
					st="OK";
					break;
				case "oregon":
					st="OR";
					break;
				case "pennsylvania":
					st="PA";
					break;
				case "rhode island":
					st="RI";
					break;
				case "south carolina":
					st="SC";
					break;
				case "south dakota":
					st="SD";
					break;
				case "tennessee":
					st="TN";
					break;
				case "texas":
					st="TX";
					break;
				case "utah":
					st="UT";
					break;
				case "vermont":
					st="VT";
					break;
				case "virginia":
					st="VA";
					break;
				case "washington":
					st="WA";
					break;
				case "west virginia":
					st="WV";
					break;
				case "wisconsin":
					st="WI";
					break;
				case "wyoming":
					st="WY";
					break;
				case "district of columbia":
					st="DC";
					break;
				default:
					st=null;
					break;
			}
			return st;
		},
		elementLoaded : function (ele, callback) {
			rrTest.log('elementLoaded::  ' + ele + " - Checking...");
			window.clearTimeout(rrTest.eleTimer);
			if (document.querySelectorAll(ele).length > 0) {
				if (typeof callback === 'function') {
					rrTest.log('elementLoaded::  ' + ele + " - Found!");
					callback();
				}
			} else {
				rrTest.eleTimer = window.setTimeout(function(){rrTest.elementLoaded(ele, callback);}, 100);
			}
		},
		dependsLoaded : function (callback) { 
			rrTest.log(rrTest.test + " - " + rrTest.creative + " - dependsLoaded - Start...");
			
			window.clearTimeout(rrTest.timer);
			//Check for jQuery and _a object
			if ((window.$ && $.isReady) || (window.jQuery && jQuery.isReady)) {
				if (typeof callback === "function") {
					rrTest.log(rrTest.test + " - " + rrTest.creative + " - dependsLoaded - Ready!");
					callback();
				}
			} else {
				rrTest.timer = window.setTimeout(function() {
					rrTest.dependsLoaded(callback);
				}, 100);
			}
		},
		log : function(obj){
			if(rrTest.debug === true){
				console.log(obj);
			}
		}
	}	

	var helpers = {
		getQueryParam: function(variable) {
	      var query = window.location.search.substring(1);
	      var vars = query.split('&');
	      for (var i = 0; i < vars.length; i++) {
	        var pair = vars[i].split('=');
	        if (decodeURIComponent(pair[0]) == variable) {
	        	return decodeURIComponent(pair[1]);
	        }
	      }
	    }
	}

	rrTest.dependsLoaded(function(){ 
		rrTest.init();
	});
})();
</script>