<style>
  h1.vehicle-page-header {
    font-weight: 800;
    font-style: normal;
    font-size: 32px;
    text-transform: uppercase;
    line-height: 40px;
    color: #181918;
  }
  h3.vehicle-page-header {
      font-weight: 300;
      font-style: normal;
      font-size: 17px;
      margin-bottom: 1em;
      line-height: 1.3;
      letter-spacing: -0.020em;
      color: #181918;
  }
  h2.psuedo-h4, h3.psuedo-h4 {
    font-size: 24px;
    display: unset;
  }
  #reservationWidget h2:nth-child(4).left.alpha.reservation-toggle-header{
    display: none;
  }
  .alpha{
    text-transform: none;
  }
  .existing-reservation-search {
    padding: 0 0 5% 0 !important;
  }
@media(min-width: 1058px){
  /* Override the extra top padding for the vehicle details section */
  .band.vehicle-detail-content-band {
    padding-top: 0 !important;
  }
  /* End Override */
  #reservationWidget {
    max-width: 1200px;
    margin: 0 auto;
  }
  #reservationWidget > div > div:nth-child(3) > div > div.cf{
    margin-left: 2%;
  }
  .alpha{
    text-transform: none;
  }
  .existing-reservation-search {
    padding: 0 2% 5% 2% !important;
  }
  .tsi-vehicle {
    float: right;
    width: 38%;
    margin-right: 2%;
    margin-top: 4em;
  }
  .tsi-blocks {
    margin: auto;
  }
  .tsi-block {
    text-align: center;
  }
  .tsi-block img {
    height: auto;
  }
  .reserve-widget-band {
    background: #fff;
  }
  .two-up-three-up.section{
    clear: both;
  }
  #reservationWidget > div:first-of-type {
    float: left;
    width: 53%;
  }
  .reservationWidget {
    background: #f3f3f3;
  }
  #reservationWidget .inner-container, .booking-widget, #reservationWidget .date-time-form, .booking-widget .age-input, .booking-widget .age-input #age, .coupon-field-wrapper, .booking-submit{
    width: 97%;
  }
  input#coupon.coupon-input{
    width: 60%;
  }
  .inner-container.expanded .booking-submit{
    margin-top: -70px;
  }
  .booking-widget div.arrow {
    margin: 3.5em 0% 1.5em -6%;
    padding-top: 5px;
    width: 2em;
  }
  #book > div > div.custom-select.age-input {
    width: 100%;
    margin-right: 0%;
  }
 .inner-container.expanded .booking-submit{
    width: 35%;
  }
  #book > div > div.cf.date-time-form.pickup-active,
  #book > div > div.cf.date-time-form.pickupCalendar-active,
  #book > div > div.cf.date-time-form.dropoffCalendar-active,
  #book > div > div.cf.date-time-form.null-active{
    width: 110%;
  }
  #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf,
  #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf,
  #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf,
  #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf{
    width: 97%;
  }
  #pickupCalendarFocusable{
    width: 50%;
  }
  #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.pickup.label-container,
  #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
  #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
  #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.pickup.label-container{
    width: 50%;
  }
  #pickupCalendarFocusable{
    width: 45%;
  }
  #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.pickup.label-container > label,
  #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container > label,
  #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container > label,
  #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.pickup.label-container > label{
    width: 42%;
  }
  #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
  #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
  #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
  #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.dropoff.label-container{
    width: 45%
  }
  #dropoffCalendarFocusable{
    width: 50%;
  }
  #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.dropoff.label-container > label,
  #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container > label,
  #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container > label,
  #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.dropoff.label-container > label {
    width: 47%;
  }
}
  @media (max-width: 80em) {
    .tsi-blocks {
      min-height: 0;
      padding: 0.5em;
    }
    .tsi-vehicle.category .tsi-blocks {
      margin: 0;
      border-left: 0;
    }
  }
  @media (max-width: 66em) {
    #reservationWidget > div:first-of-type, .tsi-vehicle {
      width: 100%;
      clear: both;
      float: none;
      margin: 0;
    }
    .tsi-blocks {
      float: none;
      clear: both;
      width: auto;
    }
    .tsi-block {
      margin-top: 10px;
      float: none;
       width: auto;
    }
    div.date-time-selector.cf{
      width: 100%;
    }
    .inner-container.expanded .booking-submit{
      margin-top:0;
      width: 94%;
    }
    div.booking-widget.cf > div.custom-select.age-input{
      width: 100%;
    }

    input#coupon.coupon-input {
      width: 86%;
    }
    #reservationWidget .inner-container, .booking-widget, #reservationWidget .date-time-form, .booking-widget .age-input, .booking-widget .age-input #age, .coupon-field-wrapper, .booking-submit{
      width: 80%;
    }
    .booking-widget div.arrow {
      margin: 3.5em 5px 1.5em 5px;
      padding-top: 5px;
      width: 2em;
    }
    .inner-container.expanded .booking-submit{
      width: 25%;
      margin-left: 72%;
      margin-top: -71px;
    }
    #book > div > div.cf.date-time-form.pickup-active,
    #book > div > div.cf.date-time-form.pickupCalendar-active,
    #book > div > div.cf.date-time-form.dropoffCalendar-active,
    #book > div > div.cf.date-time-form.null-active {
      width: 98%;
    }
    #book > div > div.custom-select.age-input{
      width: 100%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf {
      width: 100%;
    }
    #book > div > div.coupon-field-wrapper > label > span{
      margin-left: 2%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.dropoff.label-container {
      width: 47%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.pickup.label-container {
      width: 47%;
    }
  }
  @media (min-width: 46.8em) and (max-width: 768px){
    .show .booking-widget .coupon-field-wrapper {
      width: 100%;
    }
    .inner-container.expanded .booking-submit {
      width: 25%;
      margin-left: 72%;
      margin-top: -83px;
    }
  }
  @media (max-width: 48em){
    h1.vehicle-page-header {
      margin-left: 3%;
      margin-top: 4%;
    }
    h3.vehicle-page-header{
      margin-left: 3%;
    }
    input#coupon.coupon-input {
      width: 65%;
      margin-left: 2%;
    }
    #book > div > div.custom-select.age-input {
      width: 98%;
    }
    .booking-widget .age-input #age, .booking-widget .coupon-input #age, .booking-widget .coupon-chicklet #age {
      width: 96% !important;
    }
    #reservationWidget .inner-container, .booking-widget, #reservationWidget .date-time-form, .booking-widget .age-input, .booking-widget .age-input #age, .coupon-field-wrapper, .booking-submit{
      width: 100%;
    }
    #book > div > div.cf.date-time-form.pickup-active,
    #book > div > div.cf.date-time-form.pickupCalendar-active,
    #book > div > div.cf.date-time-form.dropoffCalendar-active,
    #book > div > div.cf.date-time-form.null-active {
      width: 94%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.dropoff.label-container {
      width: 100%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.pickup.label-container {
      width: 100%;
    }
  }
 @media (max-width: 46.75em){
  #reservationWidget .inner-container, .booking-widget, #reservationWidget .date-time-form, .booking-widget .age-input, .booking-widget .age-input #age, .coupon-field-wrapper, .booking-submit{
    width: 100%;
  }
  #book > div > div.coupon-field-wrapper > label > span{
    margin-left: 3%;
  }
  .coupon-field-wrapper {
    float: none;
    margin-left: 0;
  }
    #reservationWidget .date-time-form {
      width: 94%;
    }
    .tsi-block {
      margin-top: 0;
    }
   input#coupon.coupon-input{
      margin-left: 3%;
      width: 94%;
    }
    #book > div > div.cf.date-time-form.pickup-active,
    #book > div > div.cf.date-time-form.pickupCalendar-active,
    #book > div > div.cf.date-time-form.null-active {
      width: 94%;
    }
    #book > div > div.custom-select.age-input{
      width: 98%;
      margin-right: 4%;
    }
    .inner-container.expanded .booking-submit{
      width: 94%;
      margin-left: 3%;
      margin-top: 0;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf{
      width: 100%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.dropoff.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.dropoff.label-container{
      width:100%;
    }
    #book > div > div.cf.date-time-form.pickup-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.pickupCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.dropoffCalendar-active > div.date-time-selector.cf > div.cf.pickup.label-container,
    #book > div > div.cf.date-time-form.null-active > div.date-time-selector.cf > div.cf.pickup.label-container{
      width: 100%;
    }
  }
  @media (max-width: 34em){
    .tsi-block {
      margin-top: 0;
      float: none;
      clear: both;
      width: auto;
    }
  }
  </style>
  <script>
  (function() {
    'use strict';
    var tsiTest = {
      debug : false,
      account : 'Enterprise',
      portfolio : 'Enterprise.com',
      test : '360i_Vehicles Widget Test Exp C',
		  creative : "Challenger 1",
      reservationText: 'Start a Reservation',
      resWidget: '#reservationWidget',
      resWidgetH2: '#reservationWidget h2',
      resWidgetInnerH1: '#reservationWidget .inner-container .cf h1',
      resWidgetInnerH2: '#reservationWidget .inner-container .cf h2',
      sectionVehicleHeading: 'section.vehicle-page-heading',
      vehicleBandWrapper: '.vehicle-detail-band-wrapper',
      vehicleImg: '.vehicle-detail-band__car',
      vehiclePageHdrH1: '.band.vehicle-page-heading .cf .left h1',
      vehiclePageHdrH3: '.band.vehicle-page-heading .cf .left h3',
      viewModifyCancelBookingWidget: 'a#viewModifyCancelBookingWidget',
      viewModifyCancelBookingWidgetSpan: 'a#viewModifyCancelBookingWidget span',
      reservationTextToggled: false,
      init : function() {
        tsiTest.debug = Boolean(helpers.getQueryParam('debug'));

        tsiTest.log("Test Running...");

        tsiTest.elementLoaded(tsiTest.resWidget, function() {
          tsiTest.log("Test Ready!");
          tsiTest.chall();
        });
      },
      chall : function() {
        //Get Vehicle Image
        var vehicleImgHTML = $(tsiTest.vehicleImg).html().trim();
        //Use vehicle image in new right hand rail element
        var vehicleSection = '<section class="tsi-vehicle"><div class="tsi-blocks cf"><div class="tsi-block">'+vehicleImgHTML+'</div></div></section>';
        //Append vehicle section to the reservationWidget band
        $(tsiTest.resWidget).append(vehicleSection);

        //Grab the headers from the vehicle page heading and append them to the reservation widget
        //Apply class so they retain their original format when they were in the vehicle page heading band
        $(tsiTest.resWidgetInnerH2).before($(tsiTest.vehiclePageHdrH1).addClass('vehicle-page-header'));
        $(tsiTest.resWidgetInnerH1).after($(tsiTest.vehiclePageHdrH3).addClass('vehicle-page-header'));

        //Add a class to the parent that contains the reservation widget so that we'll be able to move it easier
        $(tsiTest.resWidget).parent().addClass('vehicle-widget-header');
        //Put the reservation widget band just after the original vehicle page heading band
        $(tsiTest.sectionVehicleHeading).after($('section.vehicle-widget-header'));

        //Remove Sections we no longer need on the page
        //Remove the old vehicle page heading band
        //Remove the vehicle band since we no longer need it anymore
        $('section.vehicle-page-heading, .vehicle-detail-band-wrapper').remove();

        //Detect URL and change headline to reflect vehicle-type
        var urlHref = window.location.href;
        var vanRE = /vans/gi;
        var suvRE = /suvs/gi;
        tsiTest.vehicle = vanRE.test(urlHref) ? 'a Van' : suvRE.test(urlHref) ? 'an SUV' : ' a Car';
        tsiTest.reservationText = 'Start ' + tsiTest.vehicle + ' Reservation';
        $(tsiTest.resWidgetH2).before('<h3 class="left alpha reservation-toggle-header psuedo-h4">Start ' + tsiTest.vehicle + ' Reservation</h3>');
        $(tsiTest.viewModifyCancelBookingWidget).on('click',tsiTest.updateReservationText);
        $(tsiTest.viewModifyCancelBookingWidget).find('span.active').addClass('original-link-text');
        $(tsiTest.resWidgetH2).html(tsiTest.reservationText).addClass('psuedo-h4');
        $(tsiTest.viewModifyCancelBookingWidget).append('<span class="active new" style="display:none">Start ' + tsiTest.vehicle + ' Reservation</span>');
      },
      updateReservationText: function() {
        if(tsiTest.reservationTextToggled) {
          $('#reservationWidget h3.reservation-toggle-header').text('Start ' + tsiTest.vehicle + ' Reservation');
          $('a#viewModifyCancelBookingWidget span.new').hide();
          $('a#viewModifyCancelBookingWidget span.original-link-text').show();
          tsiTest.reservationTextToggled = false;
        } else {
          $('#reservationWidget h3.reservation-toggle-header').text('VIEW / MODIFY / CANCEL');
          $('a#viewModifyCancelBookingWidget span.original-link-text').hide();
          $('a#viewModifyCancelBookingWidget span.new').show();
          tsiTest.reservationTextToggled = true;
        }
      },
      elementLoaded : function (ele, callback) {
        tsiTest.log('elementLoaded::  ' + ele + " - Checking...");
        window.clearTimeout(tsiTest.eleTimer);
        if (document.querySelectorAll(ele).length > 0) {
          if (typeof callback === 'function') {
            tsiTest.log('elementLoaded::  ' + ele + " - Found!");
            callback();
          }
        } else {
            tsiTest.eleTimer = window.setTimeout(function(){tsiTest.elementLoaded(ele, callback);}, 100);
        }
      },
      dependsLoaded : function (callback) {
          tsiTest.log(tsiTest.test + " - " + tsiTest.creative + " - dependsLoaded - Start...");

          window.clearTimeout(tsiTest.timer);
          //Check for jQuery and _a object
          if ((window.$ && $.isReady) || (window.jQuery && jQuery.isReady)) {
            if (typeof callback === "function") {

              tsiTest.log(tsiTest.test + " - " + tsiTest.creative + " - dependsLoaded - Ready!");

              callback();
            }
          } else {
            tsiTest.timer = window.setTimeout(function() {
              tsiTest.dependsLoaded(callback);
            }, 100);
          }
        },
      log : function(obj){
        if(tsiTest.debug === true){
          console.log(obj);
        }
      }

    }

    var helpers = {
      getQueryParam: function(variable) {
          var query = window.location.search.substring(1);
          var vars = query.split('&');
          for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');
            if (decodeURIComponent(pair[0]) == variable) {
              return decodeURIComponent(pair[1]);
            }
          }
        },
        supplant : function(str, o) {
        return str.replace(/{([^{}]*)}/g, function(a, b) {
              var p = b.split(/\./),
                  c = o;
              for (var i = 0; i < p.length; i++) {
                if (c[p[i]] == null)
                  return a;
                c = c[p[i]];
              }
          return typeof c === 'string' || typeof c === 'number' ? c : a;
        });
      }
    }

    tsiTest.dependsLoaded(function(){
       tsiTest.init();
    });
  })();
</script>